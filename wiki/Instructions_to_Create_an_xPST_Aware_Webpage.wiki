#summary One-sentence summary of this page.


Here's the procedure to create a webpage that is "xpst-aware", and also to build the sidebar content. The sample code provided is for the  [http://xpst.vrac.iastate.edu/WebxPST/ncbiblastmenu.html 'NCBI Demo'] application. 


= Procedure =

1. Create the '.html' that has the basic instructions for the student. The hyperlink to   the webpage for which tutoring is to provided is also to be mentioned in this file. The source code for this example given below is to be saved as 'ncbiblastmenu.html'.
Save this file in /var/lib/tomcat5/webapps/WebxPST/

{{{
<html>
	<body onload="startTask('ncbiblast')">
		<script src="tasklist.js" type="text/javascript"></script>
		<div>NCBI DEMO</div>
		<div>To start:</div>
		<ol>
			<li>Install the WebxPST extension if it isn't already installed, from <a href="https://its.clearsighted.org/webxpst/WebxPST.xpi">here</a></li>
			<li>Open the WebxPST sidebar (if it is not already open)</li>
			<li>Browse to <a href="http://www.ncbi.nlm.nih.gov/">NCBI</a></li>
		</ol> 
	</body>
</html>
}}}

2. Write the '.xPST' file for the task. The source code for this example given below is to be saved as 'ncbiblast.xpst'.
Save this file in /var/lib/tomcat5/webapps/WebxPST/WEB-INF/tre

{{{
sequence
{
	(
		# goto blast home page
		(
			link-homepage-blast
		) then
		# goto the nucleotide blast search page
		(
			link-nucleotide-blast
		)
		
		then
		All-Done
	)
	and
	Error-Not-Done;
}

feedback
{
	link-homepage-blast
	{
		answer: "1";
		Hint: "Go to BLAST homepage by clicking the <strong>BLAST</strong> link.";
		Hint: "The <strong>BLAST</strong> link is in the menubar below the NCBI logo.";
		JIT: "<block/>To do a search using BLAST, you need to go to the BLAST Homepage";
	}
	
	link-nucleotide-blast
	{
		answer: "1";
		Hint: "Click on the <strong>Nucleotide blast</strong> link.";
		Hint: "The <strong>Nucleotide blast</strong> link is in the section subtitiled Basic Blast.";
		JIT: "<block/>To do a search using BLAST, you need to go to the BLAST Homepage";
	}
	

	All-Done
	{
		answer: 1;
		Hint: "You have successfully made the search using BLAST.";
	}
}

mappings
{
	[priority=2] contentDocument.childNodes-1.childNodes-7.childNodes-1.childNodes-0.childNodes-5.childNodes-0.childNodes-0:click => link-homepage-blast;
	[priority=2] homeBlastn:click => link-nucleotide-blast;
	[priority=2] TutorLink.Done => All-Done;
}
}}}
3. Write the '.properties' file. It has a single line of code, which mentions the name of the task and the xPST file. The source code for this example is in 'ncbiblast.properties'.
Save this file in /var/lib/tomcat5/webapps/WebxPST/WEB-INF/tre


4. Write the '.xml' file. The sidebar content is mentioned here. The source code for this example is in 'ncbiblast-scenario.xml'.
Save this file in /var/lib/tomcat5/webapps/WebxPST/WEB-INF/tre/assets